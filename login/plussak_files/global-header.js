!function e(t,n,r){function a(o,u){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!u&&l)return l(o,!0);if(i)return i(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var s=n[o]={exports:{}};t[o][0].call(s.exports,function(e){var n=t[o][1][e];return a(n?n:e)},s,s.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(e,t,n){!function(e,t,n,r){"use strict";function a(e,t){for(var n=0,r=e.length;r>n;n++)h(e[n],t)}function i(e){for(var t,n=0,r=e.length;r>n;n++)t=e[n],C(t,P[u(t)])}function o(e){return function(t){re(t)&&(h(t,e),a(t.querySelectorAll(U),e))}}function u(e){var t=e.getAttribute("is"),n=e.nodeName.toUpperCase(),r=H.call(R,t?D+t.toUpperCase():q+n);return t&&r>-1&&!l(n,t)?-1:r}function l(e,t){return-1<U.indexOf(e+'[is="'+t+'"]')}function c(e){var t=e.currentTarget,n=e.attrChange,r=e.attrName,a=e.target;me&&(!a||a===t)&&t.attributeChangedCallback&&"style"!==r&e.prevValue!==e.newValue&&t.attributeChangedCallback(r,n===e[L]?null:e.prevValue,n===e[M]?null:e.newValue)}function s(e){var t=o(e);return function(e){g.push(t,e.target)}}function f(e){ve&&(ve=!1,e.currentTarget.removeEventListener(_,f)),a((e.target||t).querySelectorAll(U),e.detail===N?N:T),ne&&v()}function d(e,t){var n=this;oe.call(n,e,t),b.call(n,{target:n})}function p(e,t){Q(e,t),O?O.observe(e,ce):(pe&&(e.setAttribute=d,e[A]=E(e),e.addEventListener(F,b)),e.addEventListener(S,c)),e.createdCallback&&me&&(e.created=!0,e.createdCallback(),e.created=!1)}function v(){for(var e,t=0,n=ae.length;n>t;t++)e=ae[t],j.contains(e)||(n--,ae.splice(t--,1),h(e,N))}function m(e){throw new Error("A "+e+" type is already registered")}function h(e,t){var n,r=u(e);r>-1&&(w(e,P[r]),r=0,t!==T||e[T]?t===N&&!e[N]&&(e[T]=!1,e[N]=!0,r=1):(e[N]=!1,e[T]=!0,r=1,ne&&H.call(ae,e)<0&&ae.push(e)),r&&(n=e[t+"Callback"])&&n.call(e))}if(!(r in t)){var g,b,y,E,O,w,C,A="__"+r+(1e5*Math.random()>>0),T="attached",N="detached",x="extends",L="ADDITION",k="MODIFICATION",M="REMOVAL",S="DOMAttrModified",_="DOMContentLoaded",F="DOMSubtreeModified",q="<",D="=",V=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,I=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],R=[],P=[],U="",j=t.documentElement,H=R.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},B=n.prototype,G=B.hasOwnProperty,J=B.isPrototypeOf,Z=n.defineProperty,X=n.getOwnPropertyDescriptor,z=n.getOwnPropertyNames,K=n.getPrototypeOf,W=n.setPrototypeOf,Y=!!n.__proto__,$=n.create||function he(e){return e?(he.prototype=e,new he):this},Q=W||(Y?function(e,t){return e.__proto__=t,e}:z&&X?function(){function e(e,t){for(var n,r=z(t),a=0,i=r.length;i>a;a++)n=r[a],G.call(e,n)||Z(e,n,X(t,n))}return function(t,n){do e(t,n);while((n=K(n))&&!J.call(n,t));return t}}():function(e,t){for(var n in t)e[n]=t[n];return e}),ee=e.MutationObserver||e.WebKitMutationObserver,te=(e.HTMLElement||e.Element||e.Node).prototype,ne=!J.call(te,j),re=ne?function(e){return 1===e.nodeType}:function(e){return J.call(te,e)},ae=ne&&[],ie=te.cloneNode,oe=te.setAttribute,ue=te.removeAttribute,le=t.createElement,ce=ee&&{attributes:!0,characterData:!0,attributeOldValue:!0},se=ee||function(e){pe=!1,j.removeEventListener(S,se)},fe=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,10)},de=!1,pe=!0,ve=!0,me=!0;W||Y?(w=function(e,t){J.call(t,e)||p(e,t)},C=p):(w=function(e,t){e[A]||(e[A]=n(!0),p(e,t))},C=w),ne?(pe=!1,function(){var e=X(te,"addEventListener"),t=e.value,n=function(e){var t=new CustomEvent(S,{bubbles:!0});t.attrName=e,t.prevValue=this.getAttribute(e),t.newValue=null,t[M]=t.attrChange=2,ue.call(this,e),this.dispatchEvent(t)},r=function(e,t){var n=this.hasAttribute(e),r=n&&this.getAttribute(e),a=new CustomEvent(S,{bubbles:!0});oe.call(this,e,t),a.attrName=e,a.prevValue=n?r:null,a.newValue=t,n?a[k]=a.attrChange=1:a[L]=a.attrChange=0,this.dispatchEvent(a)},a=function(e){var t,n=e.currentTarget,r=n[A],a=e.propertyName;r.hasOwnProperty(a)&&(r=r[a],t=new CustomEvent(S,{bubbles:!0}),t.attrName=r.name,t.prevValue=r.value||null,t.newValue=r.value=n[a]||null,null==t.prevValue?t[L]=t.attrChange=0:t[k]=t.attrChange=1,n.dispatchEvent(t))};e.value=function(e,i,o){e===S&&this.attributeChangedCallback&&this.setAttribute!==r&&(this[A]={className:{name:"class",value:this.className}},this.setAttribute=r,this.removeAttribute=n,t.call(this,"propertychange",a)),t.call(this,e,i,o)},Z(te,"addEventListener",e)}()):ee||(j.addEventListener(S,se),j.setAttribute(A,1),j.removeAttribute(A),pe&&(b=function(e){var t,n,r,a=this;if(a===e.target){t=a[A],a[A]=n=E(a);for(r in n){if(!(r in t))return y(0,a,r,t[r],n[r],L);if(n[r]!==t[r])return y(1,a,r,t[r],n[r],k)}for(r in t)if(!(r in n))return y(2,a,r,t[r],n[r],M)}},y=function(e,t,n,r,a,i){var o={attrChange:e,currentTarget:t,attrName:n,prevValue:r,newValue:a};o[i]=e,c(o)},E=function(e){for(var t,n,r={},a=e.attributes,i=0,o=a.length;o>i;i++)t=a[i],n=t.name,"setAttribute"!==n&&(r[n]=t.value);return r})),t[r]=function(e,n){if(r=e.toUpperCase(),de||(de=!0,ee?(O=function(e,t){function n(e,t){for(var n=0,r=e.length;r>n;t(e[n++]));}return new ee(function(r){for(var a,i,o,u=0,l=r.length;l>u;u++)a=r[u],"childList"===a.type?(n(a.addedNodes,e),n(a.removedNodes,t)):(i=a.target,me&&i.attributeChangedCallback&&"style"!==a.attributeName&&(o=i.getAttribute(a.attributeName),o!==a.oldValue&&i.attributeChangedCallback(a.attributeName,a.oldValue,o)))})}(o(T),o(N)),O.observe(t,{childList:!0,subtree:!0})):(g=[],fe(function b(){for(;g.length;)g.shift().call(null,g.shift());fe(b)}),t.addEventListener("DOMNodeInserted",s(T)),t.addEventListener("DOMNodeRemoved",s(N))),t.addEventListener(_,f),t.addEventListener("readystatechange",f),t.createElement=function(e,n){var r=le.apply(t,arguments),a=""+e,i=H.call(R,(n?D:q)+(n||a).toUpperCase()),o=i>-1;return n&&(r.setAttribute("is",n=n.toLowerCase()),o&&(o=l(a.toUpperCase(),n))),me=!t.createElement.innerHTMLHelper,o&&C(r,P[i]),r},te.cloneNode=function(e){var t=ie.call(this,!!e),n=u(t);return n>-1&&C(t,P[n]),e&&i(t.querySelectorAll(U)),t}),-2<H.call(R,D+r)+H.call(R,q+r)&&m(e),!V.test(r)||-1<H.call(I,r))throw new Error("The type "+e+" is invalid");var r,c,d=function(){return v?t.createElement(h,r):t.createElement(h)},p=n||B,v=G.call(p,x),h=v?n[x].toUpperCase():r;return v&&-1<H.call(R,q+h)&&m(h),c=R.push((v?D:q)+r)-1,U=U.concat(U.length?",":"",v?h+'[is="'+e.toLowerCase()+'"]':h),d.prototype=P[c]=G.call(p,"prototype")?p.prototype:$(te),a(t.querySelectorAll(U),T),d}}}(window,document,Object,"registerElement")},{}],2:[function(e,t,n){function r(e){return new Option(e).innerHTML.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\\/g,"&#x2F;").replace(/`/g,"&#x60;")}function a(e,t){for(var n=t.split(".");n.length;){if(!e||!e.hasOwnProperty(n[0]))return!1;e=e[n.shift()]}return e}function i(e,t){return e.replace(u,function(e,n,r,o,u,l,c,s){var f,d=a(t,o),p="";if(!d)return"!"==r?i(u,t):c?i(s,t):"";if(!r)return i(l,t);if("@"==r){e=t._key,n=t._val;for(f in d)d.hasOwnProperty(f)&&(t._key=f,t._val=d[f],p+=i(u,t));return t._key=e,t._val=n,p}}).replace(l,function(e,n,i){var o=a(t,i);return o||0===o?"%"==n?r(o):o:""})}function o(e){this.t=e}var u=/\{\{(([@!]?)(.+?))\}\}(([\s\S]+?)(\{\{:\1\}\}([\s\S]+?))?)\{\{\/\1\}\}/g,l=/\{\{([=%])(.+?)\}\}/g;o.prototype.render=function(e){return i(this.t,e)},"function"==typeof define&&define.amd?define([],function(){return o}):"object"==typeof t&&t.exports?t.exports=o:window.tmple=window.tmple||o},{}],3:[function(e,t,n){function r(e,t){var n=s[t],r=c.render(n);e.innerHTML=r}function a(){var e=l.cookie.get("daxsub");if(e){var t=l.queryStrToObj(e);return t.a_user_key}}function i(e,t,n,a){return t?r(e,"unknown"):l.isBoolean(a)&&a?r(e,"access"):r(e,"noaccess")}function o(e,t,n,r){var a=n+"/v1/user/"+e+"/"+t;l.jsonGET(a,i.bind(null,r),f)}function u(e,t,n){var i=a();return i?void o(i,e,t,n):r(n,"unknown")}var l=e("./amedia-util"),c=e("../templates/amedia-chtop.tjs");e("document-register-element");var s,f=500,d=Object.create(HTMLElement.prototype);d.createdCallback=function(){var e=this.getAttribute("announcements"),t=this.getAttribute("domain"),n=this.getAttribute("adpurl"),a=this;if(t&&n&&e){try{var i=JSON.parse(decodeURIComponent(e))}catch(o){return}if(s=l.indexBy(i,"id"),!Object.keys(s).length){if(1!==i.length)return;return s={unknown:i[0]},void r(a,"unknown")}return u(t,n,a)}};document.registerElement("amedia-chtop",{prototype:d})},{"../templates/amedia-chtop.tjs":5,"./amedia-util":4,"document-register-element":1}],4:[function(e,t,n){function r(e){function t(){u=!0;var t=new Error("ETIMEDOUT");return t.code="ETIMEDOUT",t.duration=e.timeout,e.callback(t,o)}function n(t){if(!u)if(o.readyState===i.OPENED)for(var n in e.headers)o.setRequestHeader(n,e.headers[n]);else o.readyState===i.HEADERS_RECEIVED?r():o.readyState===i.DONE&&(r(),a())}function r(){l.response||(l.response=!0,clearTimeout(o.timeoutTimer))}function a(){if(!l.end){l.end=!0,o.body=o.responseText;try{o.body=JSON.parse(o.responseText)}catch(t){return e.callback(t,o)}e.callback(null,o,o.body)}}var i=XMLHttpRequest,o=new i,u=!1;o.timeoutTimer=setTimeout(t,e.timeout);var l={response:!1,end:!1};return o.onreadystatechange=n,o.open(e.method,e.uri,!0),o.withCredentials=!1,o.send(),o}function a(e,t,n){if(!e||"string"!=typeof e)throw new Error("url is a required argument");if("function"!=typeof t)throw new Error("Bad callback given: "+t);var a={callback:t,timeout:n||500,headers:{accept:"application/json"},method:"GET",uri:e};r(a)}function i(e){for(var t=e+"=",n=document.cookie.split(";"),r="",a={},i=n.length-1;i>=0;i--){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t)){if(r=o.substring(t.length,o.length),"{"===r.substring(0,1))return a=JSON.parse(r),"v"in a?a.v:a;if("%7B"===r.substring(0,3))return a=JSON.parse(decodeURIComponent(r)),"v"in a?a.v:a;if("undefined"===r)return;return""===r||"null"===r?null:r}}return null}function o(e){return e.split("&").reduce(function(e,t){var n=t.split("=");return e[n[0]]=n[1],e},{})}function u(e,t){return e.reduce(function(e,n,r,a){return n[t]&&(e[n[t]]=a[r]),e},{})}function l(e){return e===!0||e===!1||"[object Boolean]"===toString.call(e)}t.exports.jsonGET=a,t.exports.isBoolean=l,t.exports.indexBy=u,t.exports.queryStrToObj=o,t.exports.cookie={get:i}},{}],5:[function(e,t,n){var r=e("tmple");t.exports=new r('{{href}}\n  <a href="{{%href}}" class="am-promo">\n    <div class="am-promo-text">\n      {{mainText}}\n        <h2 class="am-promo-title">{{%mainText}}</h2>\n      {{/mainText}}\n      {{subText}}\n        <p class="am-promo-body">{{%subText}}</p>\n      {{/subText}}\n    </div>\n    {{image.src}}\n      <div class="am-promo-image">\n        <img src="{{%image.src}}" alt="{{%image.alt}}" />\n      </div>\n    {{/image.src}}\n  </a>\n{{/href}}\n')},{tmple:2}]},{},[3]);